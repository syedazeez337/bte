# BTE Test Scenario for ratatui counter application
# This tests the counter TUI with key injections and screen verification

name: ratatui-counter-test
description: Test ratatui counter application with BTE

# Note: This example demonstrates the BTE format.
# To test an actual ratatui app, use: cargo run --example counter --manifest-path examples/ratatui/Cargo.toml
command: cat

steps:
  # Initial state - just wait for cat to be ready
  - action: wait_ticks
    ticks: 5

  # Send input that simulates counter interaction
  - action: send_keys
    keys: "Counter: 0\n"

  - action: wait_ticks
    ticks: 5

  # Screen should contain our counter text
  - action: assert_screen
    pattern: "Counter: 0"
    anywhere: true

  # Send more input to simulate incrementing
  - action: send_keys
    keys: "i\n"

  - action: wait_ticks
    ticks: 5

  # Verify expected output
  - action: assert_screen
    pattern: "i"
    anywhere: true

  # Quit
  - action: send_keys
    keys: "q\n"

invariants:
  - type: cursor_bounds
    description: Cursor stays within screen bounds
